<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Building Plugins</title><link rel="stylesheet" href="stylesheet.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="../index.html" title="The breve Simulation Environment Documentation"><link rel="up" href="ch13.html" title="Chapter 13. Plugins"><link rel="prev" href="ch13.html" title="Chapter 13. Plugins"><link rel="next" href="ch13s03.html" title="Archiving Plugin Data With The data Type"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Building Plugins</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13.html">&lt;&lt; previous</a> </td><th width="60%" align="center">Chapter 13. Plugins</th><td width="20%" align="right"> <a accesskey="n" href="ch13s03.html">next &gt;&gt;</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="node-2774"></a>Building Plugins</h2></div></div></div><p>
        Once you've written your wrapper functions as described in the previous
        section, you'll need to compile the source into an object file. Note
        that beginning with breve 2.5, all plugins must be compiled with a C++
        compiler. On a system with gcc/g++ installed, this will probably look
        something like:
      </p><pre class="programlisting">
g++ -c <span class="emphasis"><em><code class="function">myPluginFuncs</code></em></span>.c
</pre><p>
        This should produce a file named <span class="emphasis"><em><code class="function">myPluginFuncs</code></em></span>.o. The final step in the
        process is different for each platform and is outlined below for Mac OS
        X, Linux and Windows.
      </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="node-2775"></a>Building Plugins With Mac OS X</h3></div></div></div><p> Once you've
        created the object file containing your plugin functions, you'll need
        to execute a command like the following to build the plugin file.
      </p><pre class="programlisting">
g++ -bundle -o <span class="emphasis"><em><code class="function">myPlugin</code></em></span>.o ./<span class="emphasis"><em><code class="function">myPluginFuncs</code></em></span>.o <span class="emphasis"><em><code class="function">[required libraries]</code></em></span> -bundle_loader <span class="emphasis"><em><code class="function">/Applications/breve.app</code></em></span>/Contents/MacOS/breve
</pre><p>
        Note that the location of <code class="literal">breve.app</code> may
        be different on your system, so you'll need to change part of the
        pathname accordingly. Regardless of the path to <code class="literal">breve.app</code>, you will need to append the text
        "/Contents/MacOS/breve".
      </p><p>
        The <span class="emphasis"><em><code class="function">[required libraries]</code></em></span>
        means that you may have to include linker options to include any other
        libraries that your plugin relies on. For example, if your plugin
        functions require code from the standard math library, you may need to
        add <code class="literal">-lm</code>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="node-2776"></a>Building Plugins With Linux</h3></div></div></div><p> Once you've
        created the object file containing your plugin functions, you'll need
        to execute a command like the following to build the plugin file.
      </p><pre class="programlisting">
ld -shared -o <span class="emphasis"><em><code class="function">myPlugin</code></em></span>.so.1.0 ./<span class="emphasis"><em><code class="function">myPluginFuncs</code></em></span>.o <span class="emphasis"><em><code class="function">[required libraries]</code></em></span></pre><p>
        The <span class="emphasis"><em><code class="function">[required libraries]</code></em></span>
        means that you may have to include linker options to include any other
        libraries that your plugin relies on. For example, if your plugin
        functions require code from the standard math library, you may need to
        add <code class="literal">-lm</code>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="node-2777"></a>Building Plugins With Windows</h3></div></div></div><p> Once you've
        created the object file containing your plugin functions, you'll need
        to execute a command like the following to build the plugin file.
        You'll need to have GNU development tools installed to follow the
        instructions listed below.
      </p><pre class="programlisting">
ld -shared -o <span class="emphasis"><em><code class="function">myPlugin</code></em></span>.o <span class="emphasis"><em><code class="function">myPluginFuncs</code></em></span>.o 
<span class="emphasis"><em><code class="function">/path/to/</code></em></span>breveIDEPlugin.lib<span class="emphasis"><em><code class="function">[required libraries]</code></em></span></pre><p>
        The <code class="literal">breveIDEPlugin.lib</code> file is used for building plugins
        compatible with <code class="literal">breveIDE.exe</code>. To build plugins for use
        with <code class="literal">breve.exe</code>, use <code class="literal">brevePlugin.lib</code> instead.
      </p><p>
        The <span class="emphasis"><em><code class="function">[required libraries]</code></em></span>
        means that you may have to include linker options to include any other
        libraries that your plugin relies on. For example, if your plugin
        functions require code from the standard math library, you may need to
        add <code class="literal">-lm</code>.
      </p><p>
        Though the instructions here are for building plugins with the GNU
        development tools, the provided header and import libraries should work
        with other Windows compilers such as MSVC as well.
      </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13.html">&lt;&lt; previous</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s03.html">next &gt;&gt;</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 13. Plugins </td><td width="20%" align="center"><a accesskey="h" href="../index.html">Table of Contents</a></td><td width="40%" align="right" valign="top"> Archiving Plugin Data With The data Type</td></tr></table></div></body></html>
